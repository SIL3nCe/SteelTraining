//--------------------------------------------------------------------------------------------------
/// GameStateGame.cpp
//--------------------------------------------------------------------------------------------------

#include "GameStateGame.h"

#include "GameStateManager.h"
#include "Game.h"

//--------------------------------------------------------------------------------------------------
/// @todo comment
//--------------------------------------------------------------------------------------------------
/*explicit*/ GameStateGame::GameStateGame(void)
{
	// ...
}

//--------------------------------------------------------------------------------------------------
/// @todo comment
//--------------------------------------------------------------------------------------------------
/*virtual*/ GameStateGame::~GameStateGame(void)
{
	// ...
}

//--------------------------------------------------------------------------------------------------
/// @todo comment
//--------------------------------------------------------------------------------------------------
/*virtual*/ void GameStateGame::InternalInitialize(void)
{
	//
	// Set GameState id
	m_id = CShIdentifier("game_state_game");
}

//--------------------------------------------------------------------------------------------------
/// @todo comment
//--------------------------------------------------------------------------------------------------
/*virtual*/ void GameStateGame::InternalRelease(void)
{
	// ...
}

//--------------------------------------------------------------------------------------------------
/// @todo comment
//--------------------------------------------------------------------------------------------------
/*virtual*/ void GameStateGame::InternalActivate(void)
{
	//
	// Game initialization
	Game::GetInstance()->Initialize();
}

//--------------------------------------------------------------------------------------------------
/// @todo comment
//--------------------------------------------------------------------------------------------------
/*virtual*/ void GameStateGame::InternalDeactivate(void)
{
	Game::GetInstance()->Release();
}

//--------------------------------------------------------------------------------------------------
/// @todo comment
//--------------------------------------------------------------------------------------------------
/*virtual*/ void GameStateGame::InternalUpdate(float dt)
{
	Game * pGame = Game::GetInstance();
	pGame->Update(dt);

	// TODO
	//if (pGame->IsRequestedToExit())
	if (false)
	{
		GameStateManager::GetInstance()->Pop();
	}
}